<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Source: Plus/Engine/Filters.js</title>
    
    
    
    
    
    <meta property="og:title" content=""/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content=""/>
    
    <meta property="og:url" content=""/>
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <script src="scripts/jquery.min.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="styles/jaguar.css">
    
    
    <script>
    var config = {"monospaceLinks":true,"cleverLinks":true,"default":{"outputSourceFiles":true},"applicationName":"Demo","disqus":"","googleAnalytics":"","openGraph":{"title":"","type":"website","image":"","site_name":"","url":""},"meta":{"title":"","description":"","keyword":""},"linenums":false};
    </script>
    

    
</head>
<body>
<div id="wrap" class="clearfix">
    
<div class="navigation">
    <h3 class="applicationName"><a href="index.html">Demo</a></h3>

    <div class="search">
        <input id="search" type="text" class="form-control input-sm" placeholder="Search Documentations">
    </div>
    <ul class="list">
    
        <li class="item" data-name="Comment">
            <span class="title">
                <a href="Comment.html">Comment</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Comment#append"><a href="Comment.html#append">append</a></li>
            
                <li data-name="Comment#getFile"><a href="Comment.html#getFile">getFile</a></li>
            
                <li data-name="Comment#getLines"><a href="Comment.html#getLines">getLines</a></li>
            
                <li data-name="Comment#setLines"><a href="Comment.html#setLines">setLines</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Line">
            <span class="title">
                <a href="Line.html">Line</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Line#clone"><a href="Line.html#clone">clone</a></li>
            
                <li data-name="Line#getNum"><a href="Line.html#getNum">getNum</a></li>
            
                <li data-name="Line#getText"><a href="Line.html#getText">getText</a></li>
            
                <li data-name="Line#setText"><a href="Line.html#setText">setText</a></li>
            
                <li data-name="Line#unescape"><a href="Line.html#unescape">unescape</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Module">
            <span class="title">
                <a href="global.html#Module">Module</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Module#child"><a href="global.html#Module#child">child</a></li>
            
                <li data-name="Module#depth"><a href="global.html#Module#depth">depth</a></li>
            
                <li data-name="Module#lines"><a href="global.html#Module#lines">lines</a></li>
            
                <li data-name="Module#parent"><a href="global.html#Module#parent">parent</a></li>
            
                <li data-name="Module#root"><a href="global.html#Module#root">root</a></li>
            
                <li data-name="Module#title"><a href="global.html#Module#title">title</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Module~getFiles"><a href="global.html#Module#~getFiles">getFiles</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Module">
            <span class="title">
                <a href="global.html#Module">Module</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Module#child"><a href="global.html#Module#child">child</a></li>
            
                <li data-name="Module#depth"><a href="global.html#Module#depth">depth</a></li>
            
                <li data-name="Module#lines"><a href="global.html#Module#lines">lines</a></li>
            
                <li data-name="Module#parent"><a href="global.html#Module#parent">parent</a></li>
            
                <li data-name="Module#root"><a href="global.html#Module#root">root</a></li>
            
                <li data-name="Module#title"><a href="global.html#Module#title">title</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Module~getFiles"><a href="global.html#Module#~getFiles">getFiles</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Module~LinkedList.Node">
            <span class="title">
                <a href="Module-LinkedList.Node.html">Module~LinkedList.Node</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Module~LinkedList.Node#next"><a href="Module-LinkedList.Node.html#next">next</a></li>
            
                <li data-name="Module~LinkedList.Node#prev"><a href="Module-LinkedList.Node.html#prev">prev</a></li>
            
                <li data-name="Module~LinkedList.Node#value"><a href="Module-LinkedList.Node.html#value">value</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Module~Plugin">
            <span class="title">
                <a href="Module-Plugin.html">Module~Plugin</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Module~Plugin#getLicence"><a href="Module-Plugin.html#getLicence">getLicence</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Module~Plugin">
            <span class="title">
                <a href="Module-Plugin.html">Module~Plugin</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Module~Plugin#getLicence"><a href="Module-Plugin.html#getLicence">getLicence</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Module~Plugin">
            <span class="title">
                <a href="Module-Plugin.html">Module~Plugin</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Module~Plugin#getLicence"><a href="Module-Plugin.html#getLicence">getLicence</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Module~Plugin">
            <span class="title">
                <a href="Module-Plugin.html">Module~Plugin</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Module~Plugin#getLicence"><a href="Module-Plugin.html#getLicence">getLicence</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Plus">
            <span class="title">
                <a href="Plus.html">Plus</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Plus.Collections">
            <span class="title">
                <a href="Plus.Collections.html">Plus.Collections</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Plus.Collections.Arrays">
            <span class="title">
                <a href="Plus.Collections.Arrays.html">Plus.Collections.Arrays</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Plus.Collections.LinkedList">
            <span class="title">
                <a href="Plus.Collections.LinkedList.html">Plus.Collections.LinkedList</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Plus.Engine">
            <span class="title">
                <a href="Plus.Engine.html">Plus.Engine</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Plus.Engine.Filter">
            <span class="title">
                <a href="Plus.Engine.Filter.html">Plus.Engine.Filter</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Plus.Engine.Filters">
            <span class="title">
                <a href="Plus.Engine.Filters.html">Plus.Engine.Filters</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Plus.Engine.SectionSections are used to pre-define the structure of the Markdown document. These objects define both thetree hierarchy and creation order for each section.">
            <span class="title">
                <a href="Plus.Engine.Section%250D%250DSections%2520are%2520used%2520to%2520pre-define%2520the%2520structure%2520of%2520the%2520Markdown%2520document.%2520These%2520objects%2520define%2520both%2520the%250Dtree%2520hierarchy%2520and%2520creation%2520order%2520for%2520each%2520section..html">Plus.Engine.SectionSections are used to pre-define the structure of the Markdown document. These objects define both thetree hierarchy and creation order for each section.</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Plus.Engine.Sections">
            <span class="title">
                <a href="Plus.Engine.Sections.html">Plus.Engine.Sections</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Plus.Files">
            <span class="title">
                <a href="Plus.Files.html">Plus.Files</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Plus.Files.Logger">
            <span class="title">
                <a href="Plus.Files.Logger.html">Plus.Files.Logger</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Plus.Files.MarkdownDefines a section in the readme file.">
            <span class="title">
                <a href="Plus.Files.Markdown%250D%250DDefines%2520a%2520section%2520in%2520the%2520readme%2520file..html">Plus.Files.MarkdownDefines a section in the readme file.</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Plus.Loader*">
            <span class="title">
                <a href="Plus.Loader%250D_.html">Plus.Loader*</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Plus.Plugins">
            <span class="title">
                <a href="Plus.Plugins.html">Plus.Plugins</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Plus.ReadMe">
            <span class="title">
                <a href="Plus.ReadMe.html">Plus.ReadMe</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Plus.Services">
            <span class="title">
                <a href="Plus.Services.html">Plus.Services</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            <span class="subtitle">Typedefs</span>
            
                <li data-name="Plus.Services.Print"><a href="Plus.Services.html#.Print">Print</a></li>
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Plus.Services.Badges">
            <span class="title">
                <a href="Plus.Services.Badges.html">Plus.Services.Badges</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Plus.Services.Cache">
            <span class="title">
                <a href="Plus.Services.Cache.html">Plus.Services.Cache</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Plus.Services.CacheFactory">
            <span class="title">
                <a href="Plus.Services.CacheFactory.html">Plus.Services.CacheFactory</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Plus.Services.Git">
            <span class="title">
                <a href="Plus.Services.Git.html">Plus.Services.Git</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Plus.Services.GitHub">
            <span class="title">
                <a href="Plus.Services.GitHub.html">Plus.Services.GitHub</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Plus.Services.Licenses">
            <span class="title">
                <a href="Plus.Services.Licenses.html">Plus.Services.Licenses</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Plus.Services.PackageJSON">
            <span class="title">
                <a href="Plus.Services.PackageJSON.html">Plus.Services.PackageJSON</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Plus.Services.Similarity">
            <span class="title">
                <a href="Plus.Services.Similarity.html">Plus.Services.Similarity</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Plus.Services.Strings">
            <span class="title">
                <a href="Plus.Services.Strings.html">Plus.Services.Strings</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="SourceCode">
            <span class="title">
                <a href="SourceCode.html">SourceCode</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="SourceCode#getComments"><a href="SourceCode.html#getComments">getComments</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Tag">
            <span class="title">
                <a href="Tag.html">Tag</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Tag#getFile"><a href="Tag.html#getFile">getFile</a></li>
            
                <li data-name="Tag#getLines"><a href="Tag.html#getLines">getLines</a></li>
            
                <li data-name="Tag#getName"><a href="Tag.html#getName">getName</a></li>
            
                <li data-name="Tag#getNum"><a href="Tag.html#getNum">getNum</a></li>
            
                <li data-name="Tag#getTitle"><a href="Tag.html#getTitle">getTitle</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
    </ul>
</div>
    <div class="main">
        <h1 class="page-title" data-filename="Plus_Engine_Filters.js.html">Source: Plus/Engine/Filters.js</h1>
        


    
    <section>
        <article>
            <pre class="prettyprint source "><code>/**
 * @param Q
 * @param _
 * @param {Plus.Files.Logger} Logger
 * @param {Plus.Engine.Filter} Filter
 * @param MultiMap
 * @param {Plus.Engine.Section} Section
 * @param {Plus.Collections.Arrays} Arrays
 *
 * @returns {Plus.Engine.Filters}
 */
function Module(Q, _, Logger, Filter, MultiMap, Section, Arrays) {

    /**
     * @name Plus.Engine.Filters
     * @constructor
     */
    var Filters = function () {
        this.items = new MultiMap();
    };

    /**
     * @returns {number}
     */
    Filters.prototype.count = function () {
        return this.items.length;
    };

    /**
     * Validate this collection
     */
    Filters.prototype.beforeRender = function () {
        if (this.count() == 0) {
            throw Error("There are no filters to render.");
        }
    };

    /**
     * @param {string} name
     *
     * @returns {boolean}
     */
    Filters.prototype.contains = function (name) {
        if (!_.isString(name) &amp;&amp; name !== '') {
            throw Error('invalid argument');
        }
        return this.items.has(name);
    };

    /**
     * @readme filters."Add Filter"
     *
     * Hook a function to a specific filter action. ReadMe offers filters to allow Writers to modify various types
     * of data at writing time.
     *
     * A writer can modify data by binding a callback to a filter hook. When the filter is later applied, each bound
     * callback is run in order of priority, and given the opportunity to modify a value by returning a new value.
     *
     * @param {string} name
     * @param {function} hook
     * @param {number=} priority
     */
    Filters.prototype.add = function (name, hook, priority) {

        Logger.debug('Filters::add %s %s', name, priority);

        this.items.get(name).add(new Filter(name, hook, priority));
    };

    /**
     * @param {string} name
     *
     * @returns {Plus.Engine.Filter[]}
     */
    Filters.prototype.byPriority = function (name) {
        if (!_.isString(name) &amp;&amp; name !== '') {
            throw Error('invalid argument');
        }
        return _.sortByOrder(this.items.get(name) || [], 'priority', ['desc']);
    };

    /**
     * @param {string} name
     * @param {*=} value
     *
     * @returns {promise}
     */
    Filters.prototype.apply = function (name, value) {
        if (!_.isString(name) &amp;&amp; name !== '') {
            throw Error('invalid argument');
        }

        Logger.debug('Filters::apply %s', name);

        var self = this;
        var promise = Q(value);
        _.each(this.byPriority(name), function (/** Plus.Engine.Filter */filter) {
            promise = promise.then(function (value) {
                return filter.getValue(self, value);
            });
        });
        return promise;
    };

    /**
     * @param {string[]|string} names
     *
     * @returns {Promise[]}
     */
    Filters.prototype.promises = function (names) {

        names = _.isArray(names) ? names : [names];

        return _.map(names, function (name) {
            return this.contains(name)
                ? this.apply(name)
                : Q(undefined);
        }.bind(this));
    };

    /**
     * @param {string|string[]} names
     * @param {Function} callback
     *
     * @returns {Promise}
     */
    Filters.prototype.resolve = function (names, callback) {

        var promises = this.promises(names);

        return Q.all(promises)
            .then(function (values) {
                return callback.apply(this, values);
            }.bind(this));
    };

    /**
     * @param {string} name
     *
     * @returns {string}
     * @private
     */
    Filters.prototype._get_id = function (name) {
        return _.kebabCase(_.last(name.split('/'))).replace(/-/g, ':');
    };

    /**
     * Loads all the filters using the loader.
     *
     * @param {Plus.Loader} loader
     */
    Filters.prototype.load = function (loader) {
        var names = loader.resolve("Plus/filters.json");
        if (!_.isArray(names)) {
            throw Error('Unexpected data from filters.json');
        }
        _.each(names, function (name) {
            var func = loader.resolve(name);
            if (!_.isFunction(func)) {
                throw Error('Filter module should return a filter function.');
            }
            this.add(this._get_id(name), func);
        }.bind(this));
    };

    /**
     * @todo Markdown should be created and attached to sections.
     *
     * @param {Plus.Engine.Section} section
     * @returns {Promise&lt;Plus.Engine.Section>}
     */
    Filters.prototype.render = function (section) {
        if (!section || !(section instanceof Section)) {
            throw Error('invalid argument');
        }

        var self = this;
        return self.apply(section.name, section.markdown).then(function (/**Plus.Files.Markdown*/md) {
            // filter properties
            var title = self.apply(section.name + ":title", md.title);
            var lines = self.apply(section.name + ":lines", md.lines);
            // return a promise that resolves to a section
            return Q.spread([title, lines], function (title, lines) {
                section.markdown = md.clone();
                section.markdown.title = title.trim();
                section.markdown.lines = Arrays.trim(lines);
                return section;
            });
        });
    };

    return Filters;
}

module.exports = [
    'q',
    'lodash',
    'Plus/Files/Logger',
    'Plus/Engine/Filter',
    'collections/multi-map',
    'Plus/Engine/Section',
    'Plus/Collections/Arrays',
    Module
];</code></pre>
        </article>
    </section>






        

        <footer>
            Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Tue Jan 12 2016 17:04:59 GMT-0500 (Eastern Standard Time)
        </footer>
    </div>
</div>
<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
<script src="scripts/main.js"></script>
</body>
</html>
